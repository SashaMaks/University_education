## Максимов Александр ИТ-17-2024
### Вариант 9

# Лабораторная работа №5
## Задание 1
В класс Дробь, добавить интерфейс на два метода: получение вещественного значения, установка числителя и установка знаменателя.
Сгенерировать такую версию дроби, которая будет кэшировать вычисление вещественного значения

#### Решение:
Создадим класс ```Fraction``` который будет содержать:
#### поля
  1. `protected int numerator;` - числитель
  2. `protected int denominator;` - знаменатель
#### конструкторы 
  1. `public Fraction()` - для создания дроби 0/1
  2. `public Fraction(int numerator, int denominator)` - для создания дроби по числителю и знаменателю
#### геттеры
  1. `public int getNumerator()` - возвращает числитель
  2. `public int getDenominator()` - возвращает знаменатель
  3. `public double getDouble()` - возвращает дробь в виде десятичной дроби
#### сеттеры
  1. `public void setFraction(int numerator, int denominator)` - устанавливает в дроби новые числитель и знаменатель
  2. `public void setNumerator(int numerator)` - устанавливает числитель
  3. `public void setDenominator(int denominator)` - устанавливает знаменатель
  4. `public void setFraction(Fraction fraction)` - устанавливает дробь через объект дробь
#### дополнительные методы
  1. `public void simplification()` - метод для упрощения дроби
  2. `public boolean equals(Object obj)` - метод для сравнения дроби и другого объекта
#### преобразование в строку
  1. `public String toString()` - выводит объект в виде “{numerator}/{denominator}”

Создадим интерфейс `Fractions` с объявлением методов
1. `double getDouble()` - получение вещественного значения
2. `void setNumerator(int numerator);` - установка числителя
3. `void setDenominator(int denominator);` - установка знаменателя 

Создадим новый класс `FractionCache` с наследованием класса `Fraction`, переопределим некоторые методы оттуда:
#### поля
  1. `private Double cache` - кэш вещественного числа дроби
#### конструкторы 
  1. `public FractionCache(int numerator, int denominator)` - для создания кэшируемой дроби по числителю и знаменателю
#### дополнительные методы
  1. `public void setFraction(Fraction fraction)` - установить дробь, через дробь, удалить кэш
  2. `public void setNumerator(int numerator)` - установить числитель, удалить кэш
  3. `public void setDenominator(int denominator)` - установить знаменатель, удалить кэш
  4. `public double getDouble()` - получить вещественное значение и кэшироовать его, если кэш пустой, иначе вернуть кэш


## Задание 2

#### Количество мяуканий.
Необходимо воспользоваться классом Кот и методом принимающим всех мяукающих из задачи 2.5.4.
Необходимо таким образом передать кота в указанный метод, что бы после окончания его работы узнать сколько раз мяукал кот за время его работы. На рисунке показан пример работы. Перед вызовом метода создаем кота, отправляем ссылку на кота в метод, после окончания его работы выводим количество мяуканий на экран. Кота изменять нельзя.

#### Решение:
Создадим интерфейс `Meowing` с объявлением метода `void meow()` - мяукнуть 

Создадим класс `Cat`
#### поля
  1. `private String name;` - имя
  2. `private int meowCount;` - количество мяуканий
#### конструкторы 
  1. `public Cat(String name)` - для создания кота по имени
  2. `public Cat(String name, int meowCount)` - для создания кота по имени и количеству мяуканий
#### геттеры
  1. `public String getName()` - возвращает имя
  2. `public int getMeowCount()` - возвращает количество мяуканий
#### сеттеры
  1. `public void setName(String name)` - устанавливает имя для кота
  2. `public void setMeowCount(int meowCount)` - устанавливает количество мяуканий
#### дополнительные методы
  1. `public void meow()` - метод для мяукания (вывести мяу и добавить + к счетчику мяуканий)
#### преобразование в строку
  1. `public String toString()` - выводит объект в виде “кот: {name}”

В демонстрации задания создаем список "мяукающих" и добавляем туда созданного ранее кота, далее вызовем метод из класса написанного далее:

Класс `public class MeowEverybody` с методом `public static void makeAllMeow(Meowing... meowables)` - который 3 раза вызовет метод `meow()` для всех "мяукающих"


## Задание 3

Составить программу, которая формирует список L, включив в него по одному разу элементы,
которые входят в список L1, но не входят в список L2.

#### Решение:
Создаем класс `public class ListOperation`
  1. `public static <T> List<T> getDifferenceSimple(List<T> L1, List<T> L2)` - метод который возвращает без повторений значения из L1 которых нету в L2
  2. `private static <T> boolean contains(List<T> list, T element)` - проверяет, есть ли элемент в подаваемом списке 

В Main просто достаточно вызвать getDifferenceSimple и приравнять его к выводимому списку


## Задание 4

Имеется список учеников разных школ, сдававших экзамен по информатике, с указанием их фамилии, имени, школы и набранного балла. Напишите программу, которая будет определять номера школ, в которых средний балл выше, чем средний по району. Известно, что информатику сдавали не менее 5 учеников.
На вход программе в первой строке подается количество учеников списке N. В каждой из последующих N строк находится информация в следующем формате:

<Фамилия><Имя><Школа><Балл>

где <Фамилия> – строка, состоящая не более, чем из 20 символов без пробелов, <Имя>– строка, состоящая не более, чем из 20 символов без пробелов, <Школа> – целое число от 1 до 99, <Балл> – целое число от 1 до 100.

#### Решение:
Напишем класс `analyzeSchools`, который анализирует данные об учениках и школах из файла

#### вспомогательные классы
1. Класс Student (Ученик)
##### Поля:
  1. `private final String lastName`  - фамилия ученика
  2. `private final String firstName` - имя ученика
  3. `private final int school` - номер школы
  4. `private final int score` - балл ученика
##### Конструкторы:
  1. `public Student(String lastName, String firstName, int school, int score)` - создает ученика через фамилию имя школу и балл
##### Геттеры:
  1. `public String getLastName()` - возвращает фамилию
  2. `public String getFirstName()` - возвращает имя
  3. `public int getSchool()` - возвращает номер школы
  4. `public int getScore()` - возвращает балл
##### Преобразование в строку:
  1. `public String toString()` - выводит данные в формате "Фамилия Имя Школа Балл"

2. Класс SchoolStats (Статистика школы)
##### Поля:
  1. `private int totalScore` - сумма баллов всех учеников школы
  2. `private int studentCount` - количество учеников в школе
##### Методы:
  1. `public void addScore(int score)` - добавляет балл ученика к статистике
  2. `public int getTotalScore()` - возвращает сумму баллов
  3. `public int getStudentCount()` - возвращает количество учеников
  4. `public double getAverage()` - вычисляет средний балл
  5. `public String toString()` - выводит статистику школы
#### методы для обработки текста
  1. `public List<Student> loadDataFromFile(String fileName) throws IOException` - читаем и проверяем на верность данные полученные из файла
  2. `private Student parseStudent(String line, int lineNumber)` - метод который делит строку из файла на данные
  3. `public List<Integer> analyze(List<Student> students)` - метод для вычисления среднего балла по району, группирования учеников по школам, поиском школ со средним баллом выше среднего и возвратом отсортированного списка таких школ
  4. ` private double calculateDistrictAverage(List<Student> students)` - вычисление среднего балла по району 
  5. `private Map<Integer, Double> calculateSchoolAverages(List<Student> students)` - вычисление среднего балла школы

Сначала мы открываем файл и читаем данные из него, проверяя их на правильность заполнения

если все верно, то делим строку из файла на эллементы
фамилия имя школа балл
если все верно, то создается студент (дополнительный класс созданный в классе, описывающий имя фамилию, школу где учится и балл) и добавляется в список студентов который возвращается

Далее переходим в метод анализа, где сначала вычисляем средний балл по району, далее через `map` делим студентов на школы где они учатся и ищем далее школы со средним баллом выше среднего


## Задание 5

Файл содержит текст на русском языке. Какие символы встречаются в одном и только в одном
слове?

#### Решение:
Напишем класс `public class TextAnalyzer` для анализа текста

Сначала мы открываем файл и читаем данные из него, нормализуя их в один вид

делим слова по знакам препинания, пробелам и цифрам на массив слов

и если слова не пустые, то вставляем их в список всех слов

Дальше мы делим слова на буквы и запихиваем их в set с символами и в скольких они словах есть
и set с символами и в каком слове они впервые всстретитлись

Далее мы смотрим сколько раз встречалась эта буква, если ни разу, то берем в список для вывода

## Задание 6

Переписать элементы из очереди L1 в очередь L2 в обратном порядке.

#### Решение:
В классе создаем метод, который рекурсивно разворачивает очередь вызывая себя в промежутке между вытаскиванием эллемента из L1 и помещением в L2

## Задание 7.1

Необходимо написать стрим:
Дан набор объектов типа Point, необходимо взять все Point в разных координатах, убрать с одинаковыми X,Y, отсортировать по X, отрицательные Y сделать положительными и собрать это все в ломаную (объект типа Polyline)

#### Решение:
Создаем класс с методом, в который передается список точек, они превращаются в массив точек с обработкой через поток

Обработка:
сортируются
все Y у точек становятся положительными
убираем копии
преобразуем список в массив

и этот массив подается в ломаную

## Задание 7.2

Дан текстовый файл со строками, содержащими имя человека и его номер в следующей форме:
Вася:5
Петя:3
Аня:5
Номера людей могут повторяться. У каких-то людей может не быть номера.
Необходимо написать стрим выполняющую следующее: читаются все люди из файла, все имена приводится к нижнему регистру, но с первой буквой в верхнем регистре, убираем из перечня всех людей без номеров, а имена оставшихся группируются по их номеру:
[5:[Вася, Аня], 3:[Петя]]

#### Решение:
Создаем класс с основным и дополнительным методами и дополнительным классов персона (у него есть имя и номерок)

Основной метод:
Поток в который передается название файла, а далее оно начинает читаться с обработкой:
убираем лишние пробелы
убираем пустые ячейки
делим строку (дополнительный метод для парсинга строки)
убираем некорректные строки
убираем всех без номеров
группируем людей по их номеру

дополнительный метод:
пробуем разделить строку по :
если пусто то возвращаем ничего
для номерка берем второй эллемент разделенной строки, а для имни первый
возвращаем персону с именем и номерком
